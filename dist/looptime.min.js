!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Looptime=e()}}(function(){return function e(t,i,a){function r(s,o){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[s]={exports:{}};t[s][0].call(p.exports,function(e){var i=t[s][1][e];return r(i||e)},p,p.exports,e,t,i,a)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.version=i.TimerManager=i.Timer=void 0;var r=a(e("./timer")),n=a(e("./timerManager")),s=a(e("./version"));i.Timer=r.default,i.TimerManager=n.default,i.version=s.default,i.default={Timer:r.default,TimerManager:n.default,version:s.default}},{"./timer":2,"./timerManager":3,"./version":4}],2:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n={INFINITE:-1},s=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.delay,n=void 0===r?0:r,s=i.destroyOnComplete,o=void 0!==s&&s,u=i.repeat,l=void 0===u?0:u,p=i.repeatDelay,d=void 0===p?0:p,h=i.onStart,f=void 0===h?function(){}:h,y=i.onUpdate,c=void 0===y?function(){}:y,v=i.onComplete,D=void 0===v?function(){}:v,m=i.onRepeat,_=void 0===m?function(){}:m,C=i.callbackScope,I=void 0===C?this:C;a(this,e),this.delay=n,this.destroyOnComplete=o,this.duration=t,this.elapsedDelay=0,this.elapsedDuration=0,this.elapsedRepeatDelay=0,this.isStarted=!1,this.isComplete=!1,this.repeat=l,this.repeatDelay=d,this._repeatCount=0,this.onStart=f.bind(I),this.onUpdate=c.bind(I),this.onComplete=D.bind(I),this.onRepeat=_.bind(I)}return r(e,[{key:"update",value:function(e){if(this.isComplete)return this;var t=this._getProgress(e);this.elapsedDelay=t.elapsedDelay,this.elapsedDuration=t.elapsedDuration,this.elapsedRepeatDelay=t.elapsedRepeatDelay,this._repeatCount=t.repeatCount,this.elapsedDuration>0&&!1===this.isStarted&&(this.isStarted=!0,this.onStart()),this.elapsedDuration>0&&this.onUpdate();for(var i=0;i<t.deltaRepeatCount;)this.onRepeat(),i++;return this.elapsedDuration>=this.duration&&this._repeatCount===this.repeat&&(this.isComplete=!0,this.onComplete()),this}},{key:"_getProgress",value:function(e){var t=e,i=0,a=0,r=0,s=0,o=this.elapsedDelay,u=this.elapsedDuration,l=this.elapsedRepeatDelay;if(this.elapsedDuration===this.duration&&(0===this._repeatCount&&(u=0),this.elapsedRepeatDelay===this.repeatDelay&&(l=0)),o<this.delay&&((o+=t)>this.delay?(i=this.delay-this.elapsedDelay,t=o-this.delay,o=this.delay):(i=t,t=0)),(this.elapsedDelay===this.delay&&this.elapsedDuration===this.duration||this._repeatCount>0)&&l<this.repeatDelay&&((l+=t)>this.repeatDelay?(r=this.repeatDelay-this.elapsedRepeatDelay,t=l-this.repeatDelay,l=this.repeatDelay,s++):(r=t,t=0)),a=t,(u+=t)>this.duration&&(this.repeat>0||this.repeat===n.INFINITE)){if((u-=this.duration)>this._repeatDuration){var p=Math.floor(u/this._repeatDuration),d=this.repeat===n.INFINITE?p:Math.min(this.repeat,p);u-=this._repeatDuration*d,(s+=d)+this._repeatCount===this.repeat&&(u+=this.duration,l+=this.repeatDelay)}(this._repeatCount+s<this.repeat||this.repeat===n.INFINITE)&&(u>this.repeatDelay?(r=l=this.repeatDelay,a=u-=this.repeatDelay,(this._repeatCount+s<this.repeat||this.repeat===n.INFINITE)&&s++):(r=l=u,a=u=0))}else 0===this.elapsedDuration&&this.elapsedRepeatDelay===this.repeatDelay&&(this.repeat>0||this.repeat===n.INFINITE)&&s++;return{deltaElapsedDelay:i,deltaElapsedDuration:a,deltaElapsedRepeatDelay:r,deltaRepeatCount:s,elapsedDelay:o,elapsedDuration:u,elapsedRepeatDelay:l,repeatCount:s+this._repeatCount}}},{key:"restart",value:function(){return!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(this.elapsedDelay=0),this.elapsedDuration=0,this.elapsedRepeatDelay=0,this.isStarted=!1,this.isComplete=!1,this._repeatCount=0,this}},{key:"totalDuration",get:function(){return this.repeat===n.INFINITE?1/0:this.delay+this.duration+this.repeat*(this.repeatDelay+this.duration)}},{key:"_repeatDuration",get:function(){return this.repeat>0||this.repeat===n.INFINITE?this.repeatDelay+this.duration:0}}]),e}();i.default=s},{}],3:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e("./timer")),s=function(){function e(){a(this,e),this.timers=[]}return r(e,[{key:"destroy",value:function(){this.removeTimers()}},{key:"update",value:function(e){var t=this;this.timers.forEach(function(i){i.complete?i.destroyOnComplete&&t.removeTimer(i):i.update(e)})}},{key:"addTimer",value:function(e,t){var i=new n.default(e,t);return this.timers.push(i),i}},{key:"removeTimer",value:function(e){var t=this.timers.indexOf(e);if(-1!==t)return this.timers.splice(t,1)[0]}},{key:"removeTimers",value:function(){var e=this.timers;return this.timers=[],e}}]),e}();i.default=s},{"./timer":2}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default="0.1.0-alpha"},{}]},{},[1])(1)});
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Looptime=e()}}(function(){return function e(t,i,a){function r(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){var i=t[s][1][e];return r(i||e)},d,d.exports,e,t,i,a)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.version=i.TimerManager=i.Timer=void 0;var r=a(e("./timer")),n=a(e("./timerManager")),s=a(e("./version"));i.Timer=r.default,i.TimerManager=n.default,i.version=s.default,i.default={Timer:r.default,TimerManager:n.default,version:s.default}},{"./timer":2,"./timerManager":3,"./version":4}],2:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n={INFINITE:-1},s=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.delay,n=void 0===r?0:r,s=i.destroyOnComplete,o=void 0!==s&&s,l=i.repeat,u=void 0===l?0:l,d=i.repeatDelay,p=void 0===d?0:d,f=i.onStart,h=void 0===f?function(){}:f,c=i.onUpdate,y=void 0===c?function(){}:c,v=i.onComplete,m=void 0===v?function(){}:v,D=i.onRepeat,C=void 0===D?function(){}:D,_=i.callbackScope,g=void 0===_?this:_;a(this,e),this.delay=n,this.destroyOnComplete=o,this.duration=t,this.elapsedDelay=0,this.elapsedDuration=0,this.elapsedRepeatDelay=0,this.isStarted=!1,this.isComplete=!1,this.repeat=u,this.repeatDelay=p,this._repeatCount=0,this.onStart=h.bind(g),this.onUpdate=y.bind(g),this.onComplete=m.bind(g),this.onRepeat=C.bind(g)}return r(e,[{key:"update",value:function(e){if(this.isComplete)return this;var t=this._getProgress(e);if(this.elapsedDelay=t.elapsedDelay,this.elapsedDuration=t.elapsedDuration,this.elapsedRepeatDelay=t.elapsedRepeatDelay,this._repeatCount=t.repeatCount,this.elapsedDuration>0&&!1===this.isStarted&&(this.isStarted=!0,this.onStart()),this.elapsedDuration>0&&this.onUpdate(),t.deltaRepeatCount>0)for(var i=1;i<=t.deltaRepeatCount;)i<t.deltaRepeatCount?this.onRepeat():i===t.deltaRepeatCount&&this.elapsedDuration>0&&this.onRepeat(),i++;else this._repeatCount>0&&this.elapsedDuration-t.deltaElapsedDuration<=0&&this.onRepeat();return this.elapsedDuration>=this.duration&&this._repeatCount===this.repeat&&(this.isComplete=!0,this.onComplete()),this}},{key:"_getProgress",value:function(e){var t=e,i=0,a=0,r=0,s=0,o=this.elapsedDelay,l=this.elapsedDuration,u=this.elapsedRepeatDelay,d=this._repeatCount;if(this.elapsedDelay<this.delay&&((o+=t)>this.delay?(i=this.delay-this.elapsedDelay,t=o-this.delay,o=this.delay):(i=t,t=0)),(this.repeat>0||this.repeat===n.INFINITE)&&(l+t>this.duration||d>0))if(0===d&&(t=l+t-this.duration,l=0,s++,d++),l>0&&l+t<=this.duration)a=t,l+=t;else for(t+=l;t>0;){if(u<this.repeatDelay){var p=this._getRepeatDelayProgress(t,u);r=p.deltaElapsedTime,u=p.elapsedTime,t-=p.deltaElapsedTime}t>this.duration&&(d<this.repeat||this.repeat===n.INFINITE)?(t-=this.duration,l=0,u=0,s++,d++):(a=t,l+=t,t=0)}else a=t,l+=t;return{deltaElapsedDelay:i,deltaElapsedDuration:a,deltaElapsedRepeatDelay:r,deltaRepeatCount:s,elapsedDelay:o,elapsedDuration:l,elapsedRepeatDelay:u,repeatCount:d}}},{key:"_getRepeatDelayProgress",value:function(e,t){var i=0,a=t+e;return a>this.repeatDelay?(i=this.repeatDelay-t,a=this.repeatDelay):i=e,{deltaElapsedTime:i,elapsedTime:a}}},{key:"restart",value:function(){return!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(this.elapsedDelay=0),this.elapsedDuration=0,this.elapsedRepeatDelay=0,this.isStarted=!1,this.isComplete=!1,this._repeatCount=0,this}},{key:"totalDuration",get:function(){return this.repeat===n.INFINITE?1/0:this.delay+this.duration+this.repeat*(this.repeatDelay+this.duration)}}]),e}();i.default=s},{}],3:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e("./timer")),s=function(){function e(){a(this,e),this.timers=[]}return r(e,[{key:"destroy",value:function(){this.removeTimers()}},{key:"update",value:function(e){var t=this;this.timers.forEach(function(i){i.complete?i.destroyOnComplete&&t.removeTimer(i):i.update(e)})}},{key:"addTimer",value:function(e,t){var i=new n.default(e,t);return this.timers.push(i),i}},{key:"removeTimer",value:function(e){var t=this.timers.indexOf(e);if(-1!==t)return this.timers.splice(t,1)[0]}},{key:"removeTimers",value:function(){var e=this.timers;return this.timers=[],e}}]),e}();i.default=s},{"./timer":2}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default="0.1.0-alpha"},{}]},{},[1])(1)});